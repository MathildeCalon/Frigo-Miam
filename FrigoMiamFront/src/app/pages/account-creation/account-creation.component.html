<div class="account-create">
  <h1>Création de compte</h1>
  <div class="register">
    <form  (ngSubmit)="submitAccount()">
    <div class="lastname">
      <label for="lastname">Nom:</label>
      <input type="text" id="lastname" [(ngModel)]="user.lastname" name="lastname" required>
    </div>
    <div class="firstName">
      <label for="firstname">Prénom:</label>
      <input type="text" id="firstname" [(ngModel)]="user.firstname" name="firstname" required>
    </div>
    <div class="birthdate">
      <label for="birthdate">Date de naissance:</label>
      <input type="date" id="birthdate" [(ngModel)]="user.birthdate" name="birthdate">
    </div>

    <div class="email">
      <label for="email">Email:</label>
      <input type="email" id="email" [(ngModel)]="user.email" name="email" required>
    </div>
    <div class="diet">
      <label for="diets">Régime Alimentaire:</label>

      <select id="diets" [(ngModel)]="user.diet" name="diets">
        @for (diet of dietList ; track dietList){

        <option [value]=diet.value [label]=diet.label>{{diet.label}}</option>
          }
      </select>


    </div>
      <div class="allergen">
        <label for="allergies">Allergie:</label>

        <select id="allergies" [(ngModel)]="user.allergies" name="allergies" multiple>
          @for (allergen of allergenList; track allergen){
              <option [value]=allergen.value [label]=allergen.label>{{ allergen.label }}</option>
          }
        </select>
      </div>


    <div class="password">
      <label for="pwd">Mot de passe: </label>
      <input type="password" id="pwd" name="password" [(ngModel)]="user.password"   required>
      @if(passwordHasError){
        <small class="error">Mot de passe incorrecte</small>
      }
    </div>
      <div class="confirm-password">
        <label for="confirmPassword">Confirmez le mot de passe:</label>
        <input type="password" id="confirmPassword" name="confirmPassword" [(ngModel)]="user.confirmPassword" required>
        @if(confirmPasswordHasError){
          <small class="errorConfirm">Les deux mots de passes ne se correspondt pas</small>
        }
      </div>
    <button type="submit" >S'inscrire</button>
    </form>

  </div>
</div>
